id: devops-infra
display_name: DevOps & Infrastructure
description: Multi-repo workflow for Terraform, Kubernetes, and CI/CD with safety-first design
default_topology: multi-repo
default_repos:
  - name: infrastructure
    kind: terraform
  - name: kubernetes
    kind: kubernetes
  - name: ci-cd
    kind: config
agents:
  defaults:
    - product-agent
    - architect-agent
    - implementation-agent
    - review-agent
    - devops-agent
    - terraform-subagent
    - kubernetes-subagent
    - security-subagent
commands:
  defaults:
    - idea
    - design
    - implement
    - review
    - release
    - status
    - drift
    - cost
hooks:
  defaults:
    - post-edit
    - pre-apply
    - end-of-turn
hooks_manifest:
  post-edit:
    script: hooks/post-edit.sh
    events:
      - event: PostToolUse
        commands:
          - Write
          - Edit
  pre-apply:
    script: hooks/pre-apply.sh
    events:
      - event: PreToolUse
        commands:
          - Bash
  end-of-turn:
    script: hooks/end-of-turn.sh
    events:
      - event: Stop
mcp_suggestions:
  vcs:
    - github
    - gitlab
  tracker:
    - linear
    - jira
  deploy:
    - none
